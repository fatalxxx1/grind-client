local player = game.Players.LocalPlayer

local function GetCharacter()
    return player.Character or player.CharacterAdded:Wait()
end

local function GetRoot()
    local char = GetCharacter()
    return char:WaitForChild("HumanoidRootPart")
end

_G.TG = false
_G.TG1 = false
_G.TG2 = false
_G.TT = nil

do
    local WindUI = loadstring(game:HttpGet(
        "https://github.com/Footagesus/WindUI/releases/latest/download/main.lua"))()

    local Window = WindUI:CreateWindow({
        Title = "Grind Client (Glazed)",
        Icon = "rbxassetid://9009086352",
        Author = "C O S",
        Size = UDim2.fromOffset(1200, 1200),
        Resizable = false
    })

    Window:Tag({
        Title = "Beta",
        Icon = "github",
        Color = Color3.fromHex("#30ff6a"),
        Radius = 0
    })

    Window:Divider()
    Window:DisableTopbarButtons({"Fullscreen"})

    Window:EditOpenButton({
        CornerRadius = UDim.new(0, 16),
        StrokeThickness = 0,
        OnlyMobile = false,
        Enabled = true,
        Draggable = false
    })

    local Section = Window:Section({
        Title = "Main",
        Icon = "chart-bar",
        Opened = true
    })

    local info1 = Section:Tab({
        Title = "Info",
        Icon = "badge-info",
        Locked = false
    })

    info1:Select()

    info1:Paragraph({
        Title = "Warning",
        Desc = "all of farm functions is blatant. \nuse at your own RISK",
        Color = "Red"
    })

    info1:Paragraph({
        Title = "Change Log",
        Desc = "Fix Tween"
    })

    info1:Divider()

    local Tab1 = Section:Tab({
        Title = "Farm",
        Icon = "hamburger",
        Locked = false
    })

    local Dropdown = Tab1:Dropdown({
    Title = "Dropdown",
    Desc = "Dropdown Description",
    Values = { "Boxer", "Samurai Master", "Samurai","tan24"  },
    Value = "Category A",
    Callback = function(option) 
        _G.TT = option 
    end
    })

    local togge1 = Tab1:Toggle({
        Title = "Start AFK",
        Desc = "Start AFK",
        Type = "Checkbox",
        Value = false,

        Callback = function(Value)
            _G.TG = Value
            if not _G.TG then return end

            task.spawn(function()
                repeat
                   
                    local character = GetCharacter()
                    local root = character:FindFirstChild("HumanoidRootPart")
                    
                    if not root then
                        continue
                    end

                    local liveFolder = workspace:FindFirstChild("Live")
                    if not liveFolder then 
                        continue 
                    end

                    
                    for _, v in pairs(liveFolder:GetChildren()) do
                        if string.find(v.Name, "Samurai")
                        or string.find(v.Name, "Cyborg")
                        or string.find(v.Name, "Zombie")
                        or string.find(v.Name, "Prison")
                        or string.find(v.Name, "Police")
                        or string.find(v.Name, "elite") 
						 or string.find(v.Name, "kuza") 
						 or string.find(v.Name, "Mafia") 
						 or string.find(v.Name, "Leaders") 
or string.find(v.Name, "."..player.Name.."entity clone")
                        or string.find(v.Name, "Kira") then
                            
                             local muRoot = v:FindFirstChild("HumanoidRootPart")
                            local humanoid = v:FindFirstChild("Humanoid")
                            
                            if muRoot and humanoid and humanoid.Health > 0 then
                             local targetCFrame = muRoot.CFrame * CFrame.new(0, 7.1, 0)
                                root.CFrame = targetCFrame * CFrame.Angles(math.rad(-90), 0, 0)
                                
                                break -- Teleport to first enemy found then restart loop
                            end
                        end
                    end
                    
                   task.wait()
                until not _G.TG
            end)
        end
    })



    local toggle = Tab1:Toggle({
        Title = "Start ",
        Desc = "Start farm selected",
        Type = "Checkbox",
        Value = false,

        Callback = function(Value)
            _G.TG1 = Value
            if not _G.TG1 then return end

      task.spawn(function()
    while _G.TG1 do
        local character = GetCharacter()
        local root = character:FindFirstChild("HumanoidRootPart")
        local liveFolder = workspace:FindFirstChild("Live")

        if not root or not liveFolder or not _G.TT then
            task.wait()
            continue
        end

        local target

        -- หา mob ก่อน
        for _, v in pairs(liveFolder:GetChildren()) do
            if string.find(v.Name, _G.TT) then
                local humanoid = v:FindFirstChild("Humanoid")
                if humanoid and humanoid.Health > 0 then
                    target = v
                    break
                end
            end
        end

        -- ถ้ามี target ให้ตีจนตาย
        if target then
            local humanoid = target:FindFirstChild("Humanoid")
            local muRoot = target:FindFirstChild("HumanoidRootPart")

            repeat
                root.CFrame = muRoot.CFrame * CFrame.new(0,7.1,0) 
                    * CFrame.Angles(math.rad(-90),0,0)

                task.wait()
            until not _G.TG1 or humanoid.Health <=0 
        end

        task.wait()
    end
end)
        end
    })

  local toggle2 = Tab1:Toggle({
        Title = "Start Hit ur Self",
        Desc = "Start farm selected",
        Type = "Checkbox",
        Value = false,

        Callback = function(Value)
            _G.TG2 = Value
            if not _G.TG2 then return end

      task.spawn(function()
    while _G.TG2 do
        local character = GetCharacter()
        local root = character:FindFirstChild("HumanoidRootPart")
        local liveFolder = workspace:FindFirstChild("Live")

        if not root or not liveFolder  then
            task.wait()
            continue
        end

        local target

        -- หา mob ก่อน
        for _, v in pairs(liveFolder:GetChildren()) do
            if string.find(v.Name, '%.'..player.Name..' entity clone') then
                local humanoid = v:FindFirstChild("Humanoid")
                if humanoid and humanoid.Health > 0 then
                    target = v
                    break
                end
            end
        end

        -- ถ้ามี target ให้ตีจนตาย
        if target then
            local humanoid = target:FindFirstChild("Humanoid")
            local muRoot = target:FindFirstChild("HumanoidRootPart")

            repeat
                root.CFrame = muRoot.CFrame * CFrame.new(0,7.1,0) 
                    * CFrame.Angles(math.rad(-90),0,0)

                task.wait()
            until not _G.TG2 or humanoid.Health <=0 
        end

        task.wait()
    end
end)
        end
    })
end        Image = "",
        ImageSize = 30,
        Thumbnail = "",
        ThumbnailSize = 80,
        Locked = false

    })

    local Paragraph2 = info1:Paragraph({
        Title = "Change Log",
        Desc = "Fix Tween",

        Image = "",
        ImageSize = 30,
        Thumbnail = "",
        ThumbnailSize = 80,
        Locked = false

    })

    info1:Divider()
    local Tab1 = Section:Tab({
        Title = "Farm",
        Icon = "hamburger",
        Locked = false
    })

    _G.TG = false
    _G.Food = nil
    _G.TWSPEED = 260
    _G.Delay = 1
    _G.HH = 100
    _G.TT = 100
    _G.ST = false

    local Diet = nil
    local Carcass, Berry, Water = false, false, false

    local PlayerGui = player:WaitForChild("PlayerGui")
    local CreatureGui = PlayerGui:WaitForChild("CreatureInfoGui")
    local mobileGUi = game:GetService("Players").LocalPlayer.PlayerGui.HUDGui.BottomFrame.Mobile
    local PcGui = game:GetService("Players").LocalPlayer.PlayerGui.HUDGui.BottomFrame.Other
    local weatherL = game:GetService("Players").LocalPlayer.PlayerGui.HUDGui.SideFrame.Mobile.MinimapFrame.Weather

    local thirstL = game:GetService("Players").LocalPlayer.PlayerGui.HUDGui.BottomFrame.Other.Thirst.HoverLabel
    local hungerL = game:GetService("Players").LocalPlayer.PlayerGui.HUDGui.BottomFrame.Other.Hunger.HoverLabel

    local activeTW

    local function TweenTo(CF)
        if not Var.Root or not _G.TG then
            return
        end
        if activeTW then
            activeTW:Cancel()
        end

        local Dist = (CF.Position - Var.Root.Position).Magnitude
        local time = math.clamp(Dist / _G.TWSPEED, 0.05, 3)
        local tween = TweenSer:Create(Var.Root, TweenInfo.new(time, Enum.EasingStyle.Linear), {
            CFrame = CF
        })
        activeTW = tween
        tween:Play()

        local state = tween.Completed:wait()
        if state ~= Enum.PlaybackState.Completed then
            return false
        end
        return true
    end

    weatherL:GetPropertyChangedSignal("Text"):Connect(function()
        if _G.ST then
            if weatherL.Text == 'ACID RAIN' or weatherL.Text == 'SNOW' or weatherL.Text == 'BLIZZARD' or weatherL.Text == 'Heatwave' then
                Re.Shelter:FireServer(true)
            else
                Re.Shelter:FireServer(false)
            end
        else
            Re.Shelter:FireServer(false)
        end
    end)

    Tab1:Section({
        Title = 'Settings',
        Box = true,
        TextTransparency = 0.05,
        TextXAlignment = "Center",
        TextSize = 17,
        Opened = true
    })

    Tab1:Divider()

    local FoodD = Tab1:Dropdown({
        Title = "Food",
        Desc = "Select Food",
        Values = {"Grass", "Carcass"},
        Value = "",
        Callback = function(option)
            _G.Food = option
            WindUI:Notify({
                Title = "Food",
                Content = 'You Selected ' .. _G.Food,
                Duration = 1,
                Icon = "hamburger"
            })
        end
    })

    local MAXH = Tab1:Slider({
        Title = "HUNGER",
        Desc = "tp at %",
        Step = 10,
        Value = {
            Min = 20,
            Max = 100,
            Default = 100
        },
        Callback = function(value)
            _G.HH = value
        end
    })

    local MAXT = Tab1:Slider({
        Title = "THIRST",
        Desc = "tp at %",
        Step = 10,
        Value = {
            Min = 20,
            Max = 100,
            Default = 100
        },
        Callback = function(value)
            _G.TT = value
        end
    })

    
    
    Tab1:Divider()
    local TS = Tab1:Slider({
        Title = "Tween Speed",
        Desc = "Lower = Slower",
        Step = 10,
        Value = {
            Min = 20,
            Max = 260,
            Default = 260
        },
        Callback = function(value)
            _G.TWSPEED = value
        end
    })

    Tab1:Toggle({
        Title = "Start AFK",
        Desc = "Start AFK",
        Icon = "",
        Type = "Checkbox",
        Value = false,

        Callback = function(Value)
            _G.TG = Value

            if not _G.TG then
                if workspace:FindFirstChild(".") then
                    workspace["."]:Destroy()
                end
                return
            end

            if workspace:FindFirstChild(".") then
                workspace["."]:Destroy()
            end

            local safePart = Instance.new("Part")
            safePart.Size = Vector3.new(200, 5, 200)
            safePart.Transparency = 0.5
            safePart.Anchored = true
            safePart.Name = "."
            safePart.CFrame = CFrame.new(0, 1500, 0)
            safePart.Parent = workspace
            safePart.Material = Enum.Material.Neon

            task.spawn(function()

                local Busy = false

                while _G.TG do
                    task.wait()

                    if not Var.Root or _G.Food == nil then
                         continue
                    end

                    local Hunger = tonumber(hungerL.Text:match("(%d+)%%")) or 100
                    local Thirst = tonumber(thirstL.Text:match("(%d+)%%")) or 100

                    if PcGui.Visible or mobileGUi.Visible then
                        -- ================= DRINK =================
                        if Thirst < _G.TT and not Busy then
                            Busy = true

                            local lake = Var.Lake:FindFirstChild("Lake")

                            if lake then

                                if TweenTo(lake:GetPivot()) then
                                    wait(1)

                                    repeat
                                        Var.Root.CFrame = lake:GetPivot()
                                        Re.Drink:FireServer(lake)

                                        Thirst = tonumber(thirstL.Text:match("(%d+)%%")) or 100
                                        task.wait()

                                    until Thirst >= 100 or not _G.TG

                                end
                            end
                            Busy = false
                        end

                        -- ================= EAT =================
                        if Hunger < _G.HH  and not Busy then
                            Busy = true

                            local node = Var.FoodNode:FindFirstChild(_G.Food)
                            local foodmodel = workspace.Interactions.Food:FindFirstChild(_G.Food)

                            if node and foodmodel then
                                if TweenTo(node:GetPivot()) then
                                    wait(1)
                                    repeat
                                        Var.Root.CFrame = node:GetPivot() * CFrame.new(0, 5, 0)
                                            Re.Food:FireServer(foodmodel)
                                        Hunger = tonumber(hungerL.Text:match("(%d+)%%")) or 100
                                        task.wait()

                                    until Hunger >= 100 or not _G.TG
                                end
                            end

                            Busy = false
                        end
                    end

                    -- SAFE TP
                    if not Busy and safePart then
                        TweenTo(safePart.CFrame * CFrame.new(0, 5, 0))
                    end
                end
            end)
        end
    })
    Tab1:Divider()

    local STTG = Tab1:Toggle({
        Title = "Auto Shelter",
        Desc = "Auto Shelter when dangerous weather",
        Icon = "",
        Type = "Checkbox",
        Value = false, -- default value
        Callback = function(Value)
            _G.ST = Value
        end
    })

end
